<?xml version="1.0" encoding="UTF-8"?>
<!--
 Fabric3
 Copyright (c) 2009 Metaform Systems

 Fabric3 integration tests are licensed under the Apache 2.0 license.
-->
<composite xmlns="http://docs.oasis-open.org/ns/opencsa/sca/200912"
           xmlns:f3="urn:fabric3.org"
           targetNamespace="urn:fabric3.org" name="TestComposite">

    <component name="TestCache">
        <f3:junit class="org.fabric3.TestCache"/>
    </component>

    <f3:caches>
        <!--
          <global>
              <transport clusterName="pseCache">
                  <properties>
                      <property name="configurationFile" value="infinispanJGroups.xml" />
                  </properties>
              </transport>
          </global>
      -->
        <f3:cache name="cache">
            <namedCache name="cache">
                <deadlockDetection enabled="true" spinDuration="100"/>
                <locking useLockStriping="false" lockAcquisitionTimeout="10000"/>
                <clustering mode="replication">
                    <sync replTimeout="15000"/>
                    <stateRetrieval fetchInMemoryState="true"
                                    alwaysProvideInMemoryState="true" timeout="120000"/>
                </clustering>
            </namedCache>
        </f3:cache>
    </f3:caches>

</composite>
